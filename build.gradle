plugins {
    id 'java'
    id 'ru.vyarus.quality' version '4.3.0'
}

repositories {
    jcenter()
}

dependencies {
    annotationProcessor "org.mapstruct:mapstruct-processor:1.3.1.Final"
    implementation "org.mapstruct:mapstruct:1.3.1.Final"
}

quality {
    exclude '**/*MapperImpl.java'
    excludeSources = fileTree('build/generated')
}

afterEvaluate {
    spotbugs {
        excludeFilter = file('gradle/config/spotbugs-exclude.xml')
    }
}

tasks.withType(JavaCompile) {
    options.compilerArgs += [
            '-Amapstruct.suppressGeneratorTimestamp=true',
            '-Amapstruct.suppressGeneratorVersionInfoComment=true',
    ]
}
